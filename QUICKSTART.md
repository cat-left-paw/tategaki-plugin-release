# QUICKSTART（最短で使い始める）

このページは「まず動かしてみる」ための最短ガイドです。  
インストールがまだの方は、先に `INSTALL.md` を参照してください。

---

## 1. 縦書きビューを開く

※新規に書き始めたい場合は、先に Obsidian 側で「新規ノート」を作成してから開いてください。

起動方法はいくつかあります。

### 方法A: リボン（左側のアイコン）から開く

左側のリボンにある「縦書きビューを開く」アイコンを押します。

### 方法B: コマンドから開く

1. Obsidianで任意のノート（`.md`）を開きます
2. コマンドパレット（`Ctrl+P` / `Cmd+P`）を開きます
3. `縦書きビューを開く` を実行します

画面の右側に「縦書きビュー」が開きます。

### 便利: ショートカットキーを割り当てる

Obsidian の 設定 → `ホットキー` から、`縦書きビューを開く` を検索してショートカットを割り当てると便利です。

---

## 2. まず編集してみる（保存/同期）

縦書きビューで文章を編集すると、元のMarkdownファイルへ反映されます。

### 同期モード（自動 / 手動）

設定で「同期モード」を選べます。

- 自動同期: 編集に合わせて自動で反映されます（普段はこちら）
- 手動同期: 自分で保存操作をしたときだけ反映されます（大事な原稿で安心）

手動同期の場合:

- ツールバーの保存ボタン、または `Ctrl+Shift+S` / `Cmd+Shift+S` で反映します
- 右上の状態表示が「未保存」のときは、反映されていない状態です

> 大事な原稿は、最初は「手動同期」＋バックアップ（複製やGit等）をおすすめします。

### 同期バックアップ（同期の前後）

同期の安全策として、同期のたびに **同期前（before）/同期後（after）** の内容をバックアップとして保存します。

- 保存場所: `.obsidian/tategaki-sync-backups/`
- ファイル名: `YYYYMMDD-HHMMSS-ms__before.md` と `YYYYMMDD-HHMMSS-ms__after.md`

バックアップはノートごとに保存され、古いものは一定数に整理されます。

---

## 3. ファイルの追従（ピン留め）

縦書きビューは、Obsidianでアクティブにしたノートを追いかけて表示できます。

- 追従をオン: アクティブなノートが自動で縦書きビューに表示されます
- ピン留め: 表示中のノートを固定して、別のノートに切り替えても変わりません

操作方法:

- 設定の `アクティブファイルを追従する` をオン/オフ
- または、ツールバーのピン（「編集ファイルを固定」）で切り替え

---

## 4. 縦書き/横書きの切り替え

ツールバーの切り替えボタン、またはコマンド `書字方向を切り替え（縦書き/横書き）` で切り替えられます。

---

## 5. よく使う機能

### ルビ（青空文庫形式）

例: `｜漢字《かんじ》`

ルビの表示は、ツールバーの「ルビ表示のオン/オフ」で切り替えできます。

### 文字装飾（太字/イタリック/ハイライト/見出し など）

太字、イタリック、取り消し線、下線、ハイライト、見出しなどは、**ツールバー**または**右クリックメニュー**から実行できます。

### ソーステキスト編集（重いときにも有効）

装飾表示ではなく、Markdown文字列を直接編集したい場合は、ツールバーの「ソーステキスト編集」を使います。  
重い原稿（長文/ルビ多め）でも、編集がしやすくなることがあります。

### 補助入力パネル（重いときにも有効）

ツールバーの「補助入力パネル」から、別の入力方法で編集できます。  
長文の末尾など、表示が重く感じるときの補助として使えます。

### 表示のカスタマイズ（テーマ/フォント/色 など）

設定画面のテーマ機能で、フォント、文字サイズ、行間、色などを自由に調整できます（複数のテーマを保存して切り替えも可能です）。

### リスト項目を上下に入れ替える（アウトライナー風）

箇条書き/番号付きリストの項目を、ショートカットで上下に移動できます（リスト項目にカーソルがあるときだけ動きます）。

- 横書き: `Ctrl` / `Cmd` + `↑` / `↓`
- 縦書き: `Ctrl` / `Cmd` + `→` / `←`

---

## 6. 制限

### 未対応の HTML タグ

本文に `<div>` のようなHTMLタグ（`<...>`）が含まれていると、タグの種類によっては変換できず、編集画面で扱えない場合があります。  
タグを「文章として」含めたい場合はコードブロックに入れてください。

```text
<div>これはタグではなく文字として見せたい</div>
```

### 重い原稿について

使用する環境によっては、**巨大なテキスト**、特に**ルビを多用したテキスト**で表示や編集が重くなることがあります（とくにテキスト末尾での編集）。

重く感じるときは、次を試してください。

- ルビ表示をオフにする
- 「ソーステキスト編集」を使う
- 「補助入力パネル」を使う

それでも重い場合は、章ごとにノートを分割するなど、テキスト量を減らすと改善します。

---

## 7. 困ったとき（安全策）

### 同期バックアップから復元

変換や同期がうまくいかなかった場合に備えて、同期バックアップを使えます。

1. コマンドパレット（`Ctrl+P` / `Cmd+P`）
2. `直前の同期バックアップを開く/復元` を実行

### バックアップを整理したい

バックアップは設定画面（またはコマンド）から「同期バックアップをゴミ箱へ移動」でまとめて消せます。

---

## 次に読む

- `INSTALL.md`: インストール/アンインストール（OS別）
- `MANUAL.md`: 機能の詳しい説明（準備中）
